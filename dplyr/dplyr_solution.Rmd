---
title: "learning dplyr"
output: html_notebook
---

# Intro 

In this R tutorial we learn about dplyr and ggplot

The data set is originally from here: https://packages.revolutionanalytics.com/datasets/

First we load the necessary libraries:
```{r, echo=FALSE}
library(tidyverse)
```

Load the data
```{r}
load("flights.rda")
```
alternatively you can also just load the data by double clicking it.

Generate a summary
```{r}
summary(flights)
```

# select

Find distinct years
```{r}
flights %>% select(YEAR) %>% distinct()
```

Find unique months 
```{r}
flights %>% select(MONTH) %>% distinct()
```

Find all distinct carriers
```{r}
flights %>% select(UNIQUE_CARRIER) %>% distinct()
```

Find all columns containing the word delay and only show first five rows
```{r}
flights %>% select(contains("DELAY")) %>% head(5)
```

You can learn more about these helper functions such as "contains" in the cheatsheet
https://www.r-bloggers.com/the-complete-catalog-of-argument-variations-of-select-in-dplyr/

# filter

filter out only the flights of American Airlines
```{r}
flights %>% filter(UNIQUE_CARRIER == "AA") %>% head(5)
```

filter out only the flights of American Airlines in February
```{r}
flights %>% filter(UNIQUE_CARRIER == "AA" & MONTH == 2) %>% head(5)
```

filter flights that of American Airline that have not started from JFK
```{r}
flights %>% filter(UNIQUE_CARRIER == "AA" & ORIGIN != JFK) %>% head(5)
```

filter flights that have covered a distance of at least 300
```{r}
flights %>% filter(DISTANCE >= 300) %>% head(5)
```

# arrange

sort flights in 

